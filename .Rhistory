geom_point()
ggplot(scholar_df, aes(years, cum_citations)) +
geom_bar()
ggplot(scholar_df, aes(years, cum_citations)) +
geom_col()
ggplot(scholar_df, aes(years, cum_citations)) +
geom_col() +
theme_minimal(base_size = 16)
ggplot(scholar_df, aes(years, cum_citations)) +
geom_col() +
xlab(NULL)+ ylab(NULL) +
theme_minimal(base_size = 16)
ggplot(scholar_df, aes(years, citations)) +
geom_col() +
xlab(NULL)+ ylab(NULL) +
theme_minimal(base_size = 16)
ggplot(scholar_df, aes(years, cum_citations)) +
geom_col() +
xlab(NULL)+ ylab(NULL) +
theme_minimal(base_size = 16)
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations)) +
geom_col(aes(y = cum_citations - citations)) +
xlab(NULL)+ ylab(NULL) +
theme_minimal(base_size = 16)
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations)) +
geom_col(aes(y = cum_citations - citations), col = "red") +
xlab(NULL)+ ylab(NULL) +
theme_minimal(base_size = 16)
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations)) +
geom_col(aes(y = cum_citations - citations), fill = "red") +
xlab(NULL)+ ylab(NULL) +
theme_minimal(base_size = 16)
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "red") +
geom_col(aes(y = cum_citations - citations)) +
xlab(NULL)+ ylab(NULL) +
theme_minimal(base_size = 16)
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "red") +
geom_col(aes(y = cum_citations - citations), fill = "#C0C0C0") +
xlab(NULL)+ ylab(NULL) +
theme_minimal(base_size = 16)
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "red") +
geom_col(aes(y = cum_citations - citations), alpha = 0.5) +
xlab(NULL)+ ylab(NULL) +
theme_minimal(base_size = 16)
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#006e80") +
xlab(NULL)+ ylab(NULL) +
theme_minimal(base_size = 16)
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
xlab(NULL)+ ylab(NULL) +
theme_minimal(base_size = 16)
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(label = citations), position = position_dodge(width=0.9), vjust=-0.25)
xlab(NULL)+ ylab(NULL) +
theme_minimal(base_size = 16)
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(label = citations), position = position_dodge(width=0.9), vjust=-0.25) +
xlab(NULL)+ ylab(NULL) +
theme_minimal(base_size = 16)
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = citations), position = position_dodge(width=0.9), vjust=-0.25) +
xlab(NULL)+ ylab(NULL) +
theme_minimal(base_size = 16)
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = citations),
position = position_dodge(width = 0.9), vjust = -0.5) +
xlab(NULL)+ ylab(NULL) +
theme_minimal(base_size = 16)
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = citations),
position = position_dodge(width = 0.9), vjust = -0.75) +
xlab(NULL)+ ylab(NULL) +
theme_minimal(base_size = 16)
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75) +
xlab(NULL)+ ylab(NULL) +
theme_minimal(base_size = 16)
if (!require(rvest)) {
install.packages("rvest", repos="http://cran.us.r-project.org")
require(rvest)
}
if (!require(dplyr)) {
install.packages("dplyr", repos="http://cran.us.r-project.org")
require(dplyr)
}
if (!require(knitr)) {
install.packages("knitr", repos="http://cran.us.r-project.org")
require(knitr)
}
if (!require(stringr)) {
install.packages("stringr", repos="http://cran.us.r-project.org")
require(stringr)
}
if (!require(ggplot2)) {
install.packages("ggplot2", repos="http://cran.us.r-project.org")
require(ggplot2)
}
###
scholar_html <- read_html("https://scholar.google.com/citations?user=4MNHWX8AAAAJ")
scholar_tab <- scholar_html %>%
html_nodes(xpath='//*[@id="gsc_rsb_st"]') %>%
html_table(fill = TRUE)
names(scholar_tab[[1]])[1] <- paste0("As of ", format(Sys.time(), "%B %d, %Y"))
scholar_tab <- strsplit(kable(scholar_tab), "\n")[[1]]
scholar_page <- readLines("publications/index.md")
start <- which(scholar_page == "#### Google Scholar Report")
end <- min(which(scholar_page == "---")[which(scholar_page == "---") > start])
scholar_page <- scholar_page[-(start + 1):-(end - 1)]
out <- c(scholar_page[1:start], "", "{:.scholar}", scholar_tab, "", scholar_page[(start + 1):length(scholar_page)])
setwd("~/Google Drive/NJIT/Work/web/swarmlab/scripts")
if (!require(rvest)) {
install.packages("rvest", repos="http://cran.us.r-project.org")
require(rvest)
}
if (!require(dplyr)) {
install.packages("dplyr", repos="http://cran.us.r-project.org")
require(dplyr)
}
if (!require(knitr)) {
install.packages("knitr", repos="http://cran.us.r-project.org")
require(knitr)
}
if (!require(stringr)) {
install.packages("stringr", repos="http://cran.us.r-project.org")
require(stringr)
}
if (!require(ggplot2)) {
install.packages("ggplot2", repos="http://cran.us.r-project.org")
require(ggplot2)
}
###
scholar_html <- read_html("https://scholar.google.com/citations?user=4MNHWX8AAAAJ")
scholar_tab <- scholar_html %>%
html_nodes(xpath='//*[@id="gsc_rsb_st"]') %>%
html_table(fill = TRUE)
names(scholar_tab[[1]])[1] <- paste0("As of ", format(Sys.time(), "%B %d, %Y"))
scholar_tab <- strsplit(kable(scholar_tab), "\n")[[1]]
scholar_page <- readLines("publications/index.md")
start <- which(scholar_page == "#### Google Scholar Report")
end <- min(which(scholar_page == "---")[which(scholar_page == "---") > start])
scholar_page <- scholar_page[-(start + 1):-(end - 1)]
out <- c(scholar_page[1:start], "", "{:.scholar}", scholar_tab, "", scholar_page[(start + 1):length(scholar_page)])
getwd()
setwd("~/Google Drive/NJIT/Work/web/swarmlab")
if (!require(rvest)) {
install.packages("rvest", repos="http://cran.us.r-project.org")
require(rvest)
}
if (!require(dplyr)) {
install.packages("dplyr", repos="http://cran.us.r-project.org")
require(dplyr)
}
if (!require(knitr)) {
install.packages("knitr", repos="http://cran.us.r-project.org")
require(knitr)
}
if (!require(stringr)) {
install.packages("stringr", repos="http://cran.us.r-project.org")
require(stringr)
}
if (!require(ggplot2)) {
install.packages("ggplot2", repos="http://cran.us.r-project.org")
require(ggplot2)
}
###
scholar_html <- read_html("https://scholar.google.com/citations?user=4MNHWX8AAAAJ")
scholar_tab <- scholar_html %>%
html_nodes(xpath='//*[@id="gsc_rsb_st"]') %>%
html_table(fill = TRUE)
names(scholar_tab[[1]])[1] <- paste0("As of ", format(Sys.time(), "%B %d, %Y"))
scholar_tab <- strsplit(kable(scholar_tab), "\n")[[1]]
scholar_page <- readLines("publications/index.md")
start <- which(scholar_page == "#### Google Scholar Report")
end <- min(which(scholar_page == "---")[which(scholar_page == "---") > start])
scholar_page <- scholar_page[-(start + 1):-(end - 1)]
out <- c(scholar_page[1:start], "", "{:.scholar}", scholar_tab, "", scholar_page[(start + 1):length(scholar_page)])
out
scholar_tab
range(scholar_df$cum_citations)
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75) +
xlab(NULL)+ ylab(NULL) +
ylim(0, 1.1 * max(scholar_df$cum_citations)) +
theme_minimal(base_size = 16)
png("img/posts/publications/scholar.png", width = 768, height = 150)
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75) +
xlab(NULL)+ ylab(NULL) +
ylim(0, 1.1 * max(scholar_df$cum_citations)) +
theme_minimal(base_size = 16)
dev.off()
png("img/posts/publications/scholar.png", width = 768, height = 250)
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75) +
xlab(NULL)+ ylab(NULL) +
ylim(0, 1.1 * max(scholar_df$cum_citations)) +
theme_minimal(base_size = 16)
dev.off()
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75,
fontface = "bold") +
xlab(NULL)+ ylab(NULL) +
ylim(0, 1.1 * max(scholar_df$cum_citations)) +
theme_minimal(base_size = 16)
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75,
fontface = "bold") +
xlab(NULL)+ ylab(NULL) +
ylim(0, 1.1 * max(scholar_df$cum_citations)) +
theme_minimal(base_size = 16, base_family = "Raleway-bold")
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75,
fontface = "bold") +
xlab(NULL)+ ylab(NULL) +
ylim(0, 1.1 * max(scholar_df$cum_citations)) +
theme_minimal(base_size = 16, base_family = "raleway")
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75,
fontface = "bold") +
xlab(NULL)+ ylab(NULL) +
ylim(0, 1.1 * max(scholar_df$cum_citations)) +
theme_minimal(base_size = 16, base_family = "raleway")
warnings()
system_fonts
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75,
fontface = "bold") +
xlab(NULL)+ ylab(NULL) +
ylim(0, 1.1 * max(scholar_df$cum_citations)) +
theme_minimal(base_size = 16) +
theme(text = element_text(face = "bold"))
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75) +
xlab(NULL)+ ylab(NULL) +
ylim(0, 1.1 * max(scholar_df$cum_citations)) +
theme_minimal(base_size = 16) +
theme(text = element_text(face = "bold"))
png("img/posts/publications/scholar.png", width = 768, height = 250)
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75,
fontface = "bold") +
xlab(NULL)+ ylab(NULL) +
ylim(0, 1.1 * max(scholar_df$cum_citations)) +
theme_minimal(base_size = 16) +
theme(text = element_text(face = "bold"))
dev.off()
png("img/posts/publications/scholar.png", width = 768, height = 250)
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75,
fontface = "bold") +
xlab(NULL)+ ylab(NULL) +
ylim(0, 1.1 * max(scholar_df$cum_citations)) +
theme_minimal(base_size = 18) +
theme(text = element_text(face = "bold"))
dev.off()
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75,
fontface = "bold", size = 18) +
xlab(NULL)+ ylab(NULL) +
ylim(0, 1.1 * max(scholar_df$cum_citations)) +
theme_minimal(base_size = 18) +
theme(text = element_text(face = "bold"))
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75,
fontface = "bold", size = 1) +
xlab(NULL)+ ylab(NULL) +
ylim(0, 1.1 * max(scholar_df$cum_citations)) +
theme_minimal(base_size = 18) +
theme(text = element_text(face = "bold"))
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75,
fontface = "bold", size = 12) +
xlab(NULL)+ ylab(NULL) +
ylim(0, 1.1 * max(scholar_df$cum_citations)) +
theme_minimal(base_size = 18) +
theme(text = element_text(face = "bold"))
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75,
fontface = "bold", size = 3) +
xlab(NULL)+ ylab(NULL) +
ylim(0, 1.1 * max(scholar_df$cum_citations)) +
theme_minimal(base_size = 18) +
theme(text = element_text(face = "bold"))
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75,
fontface = "bold", size = 4) +
xlab(NULL)+ ylab(NULL) +
ylim(0, 1.1 * max(scholar_df$cum_citations)) +
theme_minimal(base_size = 18) +
theme(text = element_text(face = "bold"))
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75,
fontface = "bold", size = 5) +
xlab(NULL)+ ylab(NULL) +
ylim(0, 1.1 * max(scholar_df$cum_citations)) +
theme_minimal(base_size = 18) +
theme(text = element_text(face = "bold"))
png("img/posts/publications/scholar.png", width = 768, height = 250)
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75,
fontface = "bold", size = 5) +
xlab(NULL)+ ylab(NULL) +
ylim(0, 1.1 * max(scholar_df$cum_citations)) +
theme_minimal(base_size = 18) +
theme(text = element_text(face = "bold"))
dev.off()
end <- min(which(scholar_page == "---")[which(scholar_page == "---") > start])
end
scholar_page <- readLines("publications/index.md")
start <- which(scholar_page == "#### Google Scholar Report")
start
scholar_page
which(scholar_page == "---")
which(scholar_page == "---")[3]
# start <- which(scholar_page == "#### Google Scholar Report")
end <- which(scholar_page == "---")[3]
end <- min(which(scholar_page == "---")[which(scholar_page == "---") > start])
# start <- which(scholar_page == "#### Google Scholar Report")
start <- which(scholar_page == "---")[3]
end <- min(which(scholar_page == "---")[which(scholar_page == "---") > start])
start
end
scholar_page <- readLines("publications/index.md")
which(scholar_page == "---")[3]
which(scholar_page == "---")
end
scholar_page
scholar_page[1:25]
# start <- which(scholar_page == "#### Google Scholar Report")
start <- which(scholar_page == '"![](/img/posts/publications/scholar.png \"Cumulated number of publications\"){:width=\"100%\"}"')
start
grep("scholar.png", scholar_page)
# start <- which(scholar_page == "#### Google Scholar Report")
start <- grep("scholar.png", scholar_page)
end <- min(which(scholar_page == "---")[which(scholar_page == "---") > start])
start
end
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75,
fontface = "bold", size = 5) +
xlab(NULL)+ ylab(NULL) +
ylim(0, 1.1 * max(scholar_df$cum_citations)) +
theme_minimal(base_size = 18) +
theme(text = element_text(face = "bold"))
?scale_y_continuous
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75,
fontface = "bold", size = 5) +
xlab(NULL)+ ylab(NULL) +
scale_y_continuous(limits = c(0, 1.1 * max(scholar_df$cum_citations)),
sec.axis = ~ cum_citations) +
theme_minimal(base_size = 18) +
theme(text = element_text(face = "bold"))
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75,
fontface = "bold", size = 5) +
xlab(NULL)+ ylab(NULL) +
scale_y_continuous(limits = c(0, 1.1 * max(scholar_df$cum_citations)),
sec.axis = sec_axis(~.)) +
theme_minimal(base_size = 18) +
theme(text = element_text(face = "bold"))
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75,
fontface = "bold", size = 5) +
xlab(NULL)+ ylab(NULL) +
scale_y_continuous(limits = c(0, 1.1 * max(scholar_df$cum_citations)),
sec.axis = sec_axis(~.)) +
theme_minimal(base_size = 18) +
theme(text = element_text(face = "bold"),
plot.background = element_rect(fill = "darkblue"))
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75,
fontface = "bold", size = 5) +
xlab(NULL)+ ylab(NULL) +
scale_y_continuous(limits = c(0, 1.1 * max(scholar_df$cum_citations)),
sec.axis = sec_axis(~.)) +
theme_minimal(base_size = 18) +
theme(text = element_text(face = "bold"),
plot.background = element_rect(fill = "#ececec"))
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75,
fontface = "bold", size = 5) +
xlab(NULL)+ ylab(NULL) +
scale_y_continuous(limits = c(0, 1.1 * max(scholar_df$cum_citations)),
sec.axis = sec_axis(~.)) +
theme_minimal(base_size = 18) +
theme(text = element_text(face = "bold"),
plot.background = element_rect(fill = "#ececec", color = "#cccccc"),
axis.line = element_line(color = "#fafafa"))
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75,
fontface = "bold", size = 5) +
xlab(NULL)+ ylab(NULL) +
scale_y_continuous(limits = c(0, 1.1 * max(scholar_df$cum_citations)),
sec.axis = sec_axis(~.)) +
theme_minimal(base_size = 18) +
theme(text = element_text(face = "bold"),
plot.background = element_rect(fill = "#ececec", color = "#cccccc"),
axis.line = element_line(color = "#fafafa"),
panel.grid.major = element_line(color = "#fafafa"),
panel.grid.minor = element_line(color = "#fafafa"))
ggplot(scholar_df, aes(years)) +
geom_col(aes(y = cum_citations), fill = "#b4133b") +
geom_col(aes(y = cum_citations - citations), fill = "#008ea5") +
geom_text(aes(y = cum_citations, label = paste0("+", citations)),
position = position_dodge(width = 0.9), vjust = -0.75,
fontface = "bold", size = 5) +
xlab(NULL)+ ylab(NULL) +
scale_y_continuous(limits = c(0, 1.1 * max(scholar_df$cum_citations)),
sec.axis = sec_axis(~.)) +
theme_minimal(base_size = 18) +
theme(text = element_text(face = "bold"),
plot.background = element_rect(fill = "#ececec", color = "#cccccc"),
panel.grid.major = element_line(color = "#fafafa"),
panel.grid.minor = element_line(color = "#fafafa"))
