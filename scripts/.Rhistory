install.packages("svglite", repos="http://cran.us.r-project.org")
## ENVIRONMENT
if (!require(rvest)) {
install.packages("rvest", repos = "http://cran.us.r-project.org")
require(rvest)
}
if (!require(dplyr)) {
install.packages("dplyr", repos = "http://cran.us.r-project.org")
require(dplyr)
}
if (!require(knitr)) {
install.packages("knitr", repos = "http://cran.us.r-project.org")
require(knitr)
}
if (!require(stringr)) {
install.packages("stringr", repos = "http://cran.us.r-project.org")
require(stringr)
}
if (!require(ggplot2)) {
install.packages("ggplot2", repos = "http://cran.us.r-project.org")
require(ggplot2)
}
if (!require(svglite)) {
install.packages("svglite", repos = "http://cran.us.r-project.org")
require(svglite)
}
scholar_html <- read_html("https://scholar.google.com/citations?user=4MNHWX8AAAAJ&hl=en")
scholar_tab <- scholar_html %>%
html_nodes(xpath = '//*[@id="gsc_rsb_st"]') %>%
html_table(fill = TRUE)
names(scholar_tab[[1]])[1] <- paste0("As of ", format(Sys.time(), "%B %d, %Y"))
scholar_tab <- strsplit(kable(scholar_tab), "\n")[[1]]
scholar_df <- data.frame(years = scholar_html %>%
html_nodes(xpath = '//*[@class="gsc_g_t"]') %>%
html_text() %>%
as.numeric,
citations = scholar_html %>%
html_nodes(xpath = '//*[@class="gsc_g_al"]') %>%
html_text() %>%
as.numeric()) %>%
mutate(., cum_citations = cumsum(citations))
scholar_df
